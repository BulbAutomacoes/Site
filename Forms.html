<section class="contact_section layout_padding">
  <div class="contact_bg_box" style="background-color: white;"></div>
  <div class="container">
    <div class="heading_container heading_center">
      <h2 id="formTitle">Contate-nos</h2>
    </div>
    <div class="row">
      <div class="col-md-7 mx-auto">
        <form id="contactForm" action="https://formspree.io/f/mqaeddev" method="POST" enctype="multipart/form-data">
          <div class="contact_form-container">
            <!-- Formulário Automatizar -->
            <div id="automatizar" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Nome" required />
              <input type="text" name="Empresa" placeholder="Empresa" required />
              <input type="text" name="Cargo" placeholder="Cargo" required />
              <input type="email" name="Email" placeholder="E-mail" required />
              <input type="phone" name="Telefone" placeholder="Telefone" required />
              <input type="text" name="Automacao" placeholder="Você será o único responsável pelo projeto de implantação de automações?" />
              <input type="text" name="Automacao" placeholder="Sua organização já possui processos virtuais automatizados?" />
              <input type="text" name="Interesse" placeholder="Quantos processos pretende automatizar?" />
            </div>

            <!-- Formulário RaaS -->
            <div id="raas" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Nome ou empresa (RaaS)" required />
              <input type="email" name="Email" placeholder="E-mail" required />
              <input type="phone" name="Telefone" placeholder="Telefone" required />
              <input type="text" name="Automacao" placeholder="Já possui automação?" />
              <input type="text" name="Interesse" placeholder="Tenho interesse em..." />
              <input type="text" name="Mensagem" placeholder="Mensagem" class="message_input" />
            </div>

            <!-- Formulário Organizar e Automatizar -->
            <div id="organizar-e-automatizar" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Nome (Organizar e Automatizar)" required />
              <input type="email" name="Email" placeholder="E-mail" required />
              <input type="text" name="Empresa" placeholder="Empresa" required />
              <input type="phone" name="Telefone" placeholder="Telefone" required />
              <input type="text" name="Objetivo" placeholder="Qual o objetivo da sua organização ao automatizar processos?" />
              <input type="text" name="Automacao" placeholder="Já possui algum processo automatizado?" />
              <input type="text" name="Expectativa" placeholder="Quais suas expectativas ao implementar a automação?" />
            </div>

            <!-- Formulário Organizar RaaS -->
            <div id="organizar-raas" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Nome (Organizar RaaS)" required />
              <input type="email" name="Email" placeholder="E-mail" required />
              <input type="text" name="Empresa" placeholder="Empresa" required />
              <input type="phone" name="Telefone" placeholder="Telefone" required />
              <input type="text" name="Automacao" placeholder="Você já utiliza algum serviço RaaS?" />
              <input type="text" name="Interesse" placeholder="Quais processos você deseja automatizar?" />
              <input type="text" name="Suporte" placeholder="Você precisa de suporte contínuo após a automação?" />
            </div>

            <!-- Formulário Suporte Corretivo -->
            <div id="suporte-corretivo" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Seu nome (Corretivo)" required />
              <input type="email" name="Email" placeholder="Seu e-mail" required />
              <textarea name="Problema" placeholder="Descreva seu problema" required></textarea>
            </div>

            <!-- Formulário Suporte Preditivo -->
            <div id="suporte-preditivo" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Nome da empresa (Preditivo)" required />
              <input type="email" name="Email" placeholder="E-mail" required />
              <input type="text" name="Produto" placeholder="Produto de interesse" required />
              <input type="text" name="Orcamento" placeholder="Orçamento desejado" />
            </div>

            <!-- Formulário Sustentação -->
            <div id="sustentacao" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Seu nome (Sustentação)" required />
              <input type="email" name="Email" placeholder="Seu e-mail" required />
              <textarea name="Feedback" placeholder="Deixe seu feedback" required></textarea>
            </div>

            <!-- Formulário Trabalhe Conosco -->
            <div id="trabalhe-conosco" class="form-group" style="display: none;">
              <input type="text" name="Nome" placeholder="Seu nome (Trabalhe Conosco)" required />
              <input type="email" name="Email" placeholder="Seu e-mail" required />
              <label for="cvInput" id="fileLabel" style="margin-top: 15px;">Adicione um arquivo</label>
              <input type="file" name="CV" id="cvInput" accept=".pdf,.doc,.docx" required />
            </div>

            <div class="btn-box">
              <button type="submit">Enviar</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  // Função para exibir o formulário baseado no parâmetro da URL e atualizar o título
  function showFormFromURL() {
    const urlParams = new URLSearchParams(window.location.search);
    const formType = urlParams.get('form');

    // Oculta todos os formulários
    var forms = document.querySelectorAll('.form-group');
    forms.forEach(function(form) {
      form.style.display = 'none';
    });

    // Atualiza o título com base no tipo de formulário
    const formTitle = document.getElementById('formTitle');
    switch (formType) {
      case 'automatizar':
        document.getElementById('automatizar').style.display = 'block';
        formTitle.textContent = 'Automatize seus processos';
        break;
      case 'raas':
        document.getElementById('raas').style.display = 'block';
        formTitle.textContent = 'Robôs como Serviço (RaaS)';
        break;
      case 'organizar-e-automatizar':
        document.getElementById('organizar-e-automatizar').style.display = 'block';
        formTitle.textContent = 'Organizar e Automatizar';
        break;
      case 'organizar-raas':
        document.getElementById('organizar-raas').style.display = 'block';
        formTitle.textContent = 'Organizar RaaS';
        break;
      case 'suporte-corretivo':
        document.getElementById('suporte-corretivo').style.display = 'block';
        formTitle.textContent = 'Suporte Corretivo';
        break;
      case 'suporte-preditivo':
        document.getElementById('suporte-preditivo').style.display = 'block';
        formTitle.textContent = 'Suporte Preditivo';
        break;
      case 'sustentacao':
        document.getElementById('sustentacao').style.display = 'block';
        formTitle.textContent = 'Sustentação de Sistemas';
        break;
      case 'trabalhe-conosco':
        document.getElementById('trabalhe-conosco').style.display = 'block';
        formTitle.textContent = 'Trabalhe Conosco';
        break;
      default:
        formTitle.textContent = 'Formulário não encontrado';
        break;
    }
  }

  window.onload = showFormFromURL;
</script>
